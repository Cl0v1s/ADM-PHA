<app-usecaseselector>
    <div each='{ usecase, i in usecases }' data-id="{ usecase.id }" onclick="{ show }" class="usecase { usecase.name }">
        { usecase.name }
    </div>
    <script>
        var tag = this; 
        
        tag.usecases = null;

        tag.on("before-mount", function()
        {
            tag.usecases = tag.opts.usecases;
            if(tag.usecases == null)
                throw new Error("Usecases cant be null.");
        });

        tag.show = function(event)
        {
            let id = event.target.getAttribute("data-id");
            if(id == null)
                return;
            let request = App.request(App.Address + "/usecase/"+id, null, "GET");
            request.then(function(response){
                    App.showPopIn("app-usecase", { 
                    "usecase" : response.value
                });
            });
            request.catch(function(error){
                ErrorHandler.alertIfError(error);
            });

        };
    </script>
</app-usecaseselector>