<app-resident>
    <app-header></app-header>

    <div>
        <div id="status">
            <app-residentinfo resident="{ resident }"></app-residentinfo>
        </div>
        <div id="informations">
        <app-usecaseselector resident="{ resident }" usecases="{ usecases }"></app-usecaseselector>
        <div class="widgets">
            <div>
                <div class="name">Professionnels</div>
                <app-userwidget users="{ resident.pro }"></app-userwidget>
            </div>
            <div>
                <div class="name">Personnel médical</div>
                <app-userwidget users="{ resident.perso }"></app-userwidget>
            </div>
            <div>
                <div class="name">Dispositifs médicaux</div>
                <app-dmwidget dms="{ resident.dms }" resident="{ resident }"></app-dmwidget>
            </div>
            <div>
                <div class="name">Aides techniques</div>
                <app-dmwidget dms="{ resident.ats }" resident="{ resident }"></app-dmwidget>
            </div>
        </div>
    </div>

    <script>
        var tag = this;

        tag.resident = null;
        tag.usecases = null;

        tag.on("before-mount", function(){
            tag.resident = tag.opts.resident;
            if(tag.resident == null)
                throw new Error("Resident cant be null.");
            tag.usecases = tag.opts.usecases;
            if(tag.usecases == null)
                throw new Error("Usecases cant be null.");
        });
    </script>
</div>
</app-resident>
