<app-dms>
    <app-header></app-header>
    <div class="ui category search">
      <div class="ui icon input">
        <input class="prompt" type="text" placeholder="Recherche un dispositif mÃ©dical..."value="Rechercher" onclick="{ search }" >
        <i class="search icon"></i>
      </div>
      <div class="results"></div>
    </div>
    
    <app-dmlist dms="{ dms }"></app-dmlist>

    <script>
        var tag = this;

        tag.dms = null;

        tag.on("before-mount", function()
        {
            tag.dms = tag.opts.dms;
            if(tag.dms == null)
                throw new Error("DMS cant be null.");
        });

        tag.search = function()
        {
            var name = tag.refs.search.value;
            name = "'*"+name+"*'";
            Router.redirect("dms/name eq "+name);
        };
    </script>
</app-dms>
